C:\Projects\go\src\github.com\core-tools\hsu-example1-go\cmd\cli\echogrpccli>echogrpccli.exe --server ..\..\srv\echogrpcsrv\echogrpcsrv.exe
2025/08/04 16:13:08 opts: {ServerPath:..\..\srv\echogrpcsrv\echogrpcsrv.exe}
2025/08/04 16:13:08 Starting...
2025/08/04 16:13:08 Adding worker, id: echo, can_attach: true, can_execute: true, can_terminate: true, can_restart: true
2025/08/04 16:13:08 Worker state transition, worker: echo, unknown->registered, operation: add
2025/08/04 16:13:08 Using provided context-aware restart configuration for worker echo
2025/08/04 16:13:08 Worker added successfully, id: echo, state: registered
2025/08/04 16:13:08 Starting master...
2025/08/04 16:13:08 Master started
2025/08/04 16:13:08 All components are ready, starting workers...
2025/08/04 16:13:08 Starting worker, id: echo
2025/08/04 16:13:08 Worker state transition, worker: echo, registered->starting, operation: start
2025/08/04 16:13:08 Starting echo client loop
2025/08/04 16:13:08 Starting process control for worker echo
2025/08/04 16:13:08 Starting process for worker echo, can_attach: true, can_execute: true, can_terminate: true
2025/08/04 16:13:08 Attempting to attach to existing process, worker: echo
2025/08/04 16:13:08 Attaching to integrated worker, id: echo
2025/08/04 16:13:08 Attaching to process, id: echo, discovery config: {Method:pid-file ProcessName: ProcessArgs:[] Port:0 Protocol: PIDFile:C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.pid ServiceName: CheckInterval:30s}
2025/08/04 16:13:08 Starting process discovery, id: echo, method: pid-file
2025/08/04 16:13:08 Discovering process by PID file, id: echo, file: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.pid
2025/08/04 16:13:08 Failed to discover process, id: echo, method: pid-file, error: process: failed to find process: OpenProcess: The parameter is incorrect.
2025/08/04 16:13:08 Failed to attach to existing process, worker: echo, error: discovery: failed to discover process: process: failed to find process: OpenProcess: The parameter is incorrect.
2025/08/04 16:13:08 Executing new process, worker: echo
2025/08/04 16:13:08 Executing integrated worker command, id: echo
2025/08/04 16:13:08 Got free port, port: 51921
2025/08/04 16:13:08 Executing process, id: echo, execution config: {ExecutablePath:..\..\srv\echogrpcsrv\echogrpcsrv.exe Args:[--port 51921] Environment:[] WorkingDirectory: WaitDelay:0s}
2025/08/04 16:13:08 Executing process: id: echo, executable path: '..\..\srv\echogrpcsrv\echogrpcsrv.exe', args: [--port 51921], working directory: 'C:\Projects\go\src\github.com\core-tools\hsu-example1-go\cmd\srv\echogrpcsrv'
2025/08/04 16:13:08 Executing process, id: echo, cmd: ..\..\srv\echogrpcsrv\echogrpcsrv.exe --port 51921
2025/08/04 16:13:08 Successfully executed process, id: echo, PID: 15944
2025/08/04 16:13:08 Writing PID file, worker: echo, pid: 15944, path: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.pid
2025/08/04 16:13:08 PID file written successfully, worker: echo, pid: 15944, path: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.pid
2025/08/04 16:13:08 PID file written for worker echo: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.pid (PID: 15944)
2025/08/04 16:13:08 Writing port file, worker: echo, port: 51921, path: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.port
2025/08/04 16:13:09 Port file written successfully, worker: echo, port: 51921, path: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.port
2025/08/04 16:13:09 Port file written for worker echo: C:\Users\alexey.trunov\AppData\Local\hsu-master\echo.port (port: 51921)
2025/08/04 16:13:09 Created dynamic gRPC health check for executed process 15944: &{grpc {  map[]} {localhost:51921 CoreService Ping map[]} { 0} { []} {false 0s 0s 0s 0}}
2025/08/04 16:13:09 Integrated worker executed successfully, id: echo, PID: 15944
2025/08/04 16:13:09 New process started successfully, worker: echo, PID: 15944
2025/08/04 16:13:09 Process started, process: &{Pid:15944 handle:576 isdone:{_:{} v:0} sigMu:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:{_:{} v:0} readerWait:{_:{} v:0}}}, process context: map[server_address:localhost:51921]
2025/08/04 16:13:09 No log collection service configured for worker echo
2025/08/04 16:13:09 Starting health monitor for worker echo, config: &{Type:grpc HTTP:{URL: PMethod: Headers:map[]} GRPC:{Address:localhost:51921 Service:CoreService Method:Ping Headers:map[]} TCP:{Address: Port:0} Exec:{Command: Args:[]} RunOptions:{Enabled:false Interval:0s Timeout:0s InitialDelay:0s Retries:0}}
2025/08/04 16:13:09 Restart callback set for health monitor, id: echo
2025/08/04 16:13:09 Recovery callback set for health monitor, id: echo
2025/08/04 16:13:09 Starting health monitor, id: echo, type: grpc, interval: 0s
2025/08/04 16:13:09 Health check configuration validation failed, id: echo, error: validation: invalid health check run options: validation: health check interval must be positive
2025/08/04 16:13:09 Failed to start health monitor, worker: echo, error: internal: failed to start health monitoring: validation: invalid health check configuration: validation: invalid health check run options: validation: health check interval must be positive
2025/08/04 16:13:09 Initializing resource monitoring for worker echo, PID: 15944
2025/08/04 16:13:09 Starting resource limit management for PID 15944
2025/08/04 16:13:09 Applying resource limits to PID 15944
2025/08/04 16:13:09 Resource limits successfully applied to PID 15944
2025/08/04 16:13:09 Starting resource monitoring for PID 15944, interval: 30s
2025/08/04 16:13:09 Resource limit management started for PID 15944
2025/08/04 16:13:09 Resource monitoring started for worker echo, PID: 15944
2025/08/04 16:13:09 Process control started, worker: echo
2025/08/04 16:13:09 Worker state transition, worker: echo, starting->running, operation: start
2025/08/04 16:13:09 Worker started successfully, id: echo, state: running
2025/08/04 16:13:09 Started worker: echo
2025/08/04 16:13:09 All workers started, master is fully operational
2025/08/04 16:13:18 Echo request: Hello, World!
2025/08/04 16:13:18 Echo client gateway done
2025/08/04 16:13:18 Echo response: go-simple-echo: Hello, World!
2025/08/04 16:13:19 Windows resource usage for PID 15944: Memory RSS: 9MB, CPU: 0.0%, Handles: 120
2025/08/04 16:13:28 Echo request: Hello, World!
2025/08/04 16:13:28 Echo client gateway done
2025/08/04 16:13:28 Echo response: go-simple-echo: Hello, World!
2025/08/04 16:13:29 Windows resource usage for PID 15944: Memory RSS: 10MB, CPU: 0.0%, Handles: 121
2025/08/04 16:13:31 Master runner received signal: interrupt
2025/08/04 16:13:31 Waiting for workers start to finish...
2025/08/04 16:13:31 Ready to stop components...
2025/08/04 16:13:31 Echo client loop stopped
2025/08/04 16:13:31 Stopping master...
2025/08/04 16:13:31 Stopping process controls...
2025/08/04 16:13:31 Stopping process control...
2025/08/04 16:13:31 State transition: -> stopping, worker: echo
2025/08/04 16:13:31 Terminating process PID 15944
2025/08/04 16:13:31 Sending termination signal to PID 15944, idDead: false, timeout: 20s
2025/08/04 16:13:31 Waiting for process PID 15944 to terminate gracefully
2025/08/04 16:13:31 Process PID 15944 exited with status: exit status 0
2025/08/04 16:13:31 Process PID 15944 terminated gracefully
2025/08/04 16:13:31 Stopping resource limit management for PID 15944
2025/08/04 16:13:31 Stopping resource monitoring for PID 15944
2025/08/04 16:13:31 Resource violation check loop stopped for PID 15944
2025/08/04 16:13:31 Resource monitoring loop stopped for PID 15944
2025/08/04 16:13:31 Resource monitoring stopped for PID 15944
2025/08/04 16:13:31 Resource limit management stopped for PID 15944
2025/08/04 16:13:31 Resource monitoring stopped for worker echo
2025/08/04 16:13:31 Stdout closed for worker echo
2025/08/04 16:13:31 State transition: stopping -> idle, worker: echo
2025/08/04 16:13:31 Process control stopped successfully
2025/08/04 16:13:31 Process controls stopped.
2025/08/04 16:13:31 Master stopped
2025/08/04 16:13:31 Done
